<ion-card>
  <ion-card-header>
    <ion-card-title>Círculo</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div class="description">
      <p>El perímetro de un círculo es la longitud de la línea que forma su borde.</p>
      <div class="formula">
        <strong>Donde:</strong><br>
        <span class="formula-text"><strong>P:</strong> perímetro</span><br>
        <span class="formula-text"><strong>r:</strong> radio del círculo</span><br>
        <span class="formula-text"><strong>π:</strong> 3.1416</span>
      </div>

      <!-- Fórmula matemática en texto -->
      <div class="math-formula">
        <strong>P = 2π × r</strong>
      </div>
    </div>

    <!-- Diagrama educativo del círculo -->
    <div class="educational-diagram" (click)="openImageModal()">
      <ion-img src="assets/circulo.png"
               alt="Diagrama educativo del círculo mostrando perímetro, radio, centro y diámetro">
      </ion-img>
      <div class="zoom-hint">
        <small>👆 Toca para ampliar</small>
      </div>
    </div>

    <ion-item>
      <ion-input
        label="Radio (cm)"
        type="number"
        [(ngModel)]="radius"
        placeholder="Ingrese el radio">
      </ion-input>
    </ion-item>

    <ion-button expand="block" (click)="calculate()" [disabled]="!radius">
      CALCULAR EL PERÍMETRO
    </ion-button>

    <div *ngIf="result !== null" class="result">
      <ion-text>
        <h3>El perímetro es {{ result | number:'1.2-2' }} cm</h3>
      </ion-text>
    </div>
  </ion-card-content>
</ion-card>

<!-- Modal para zoom de imagen -->
<ion-modal [isOpen]="isImageModalOpen" (willDismiss)="closeImageModal()">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Diagrama del Círculo</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="closeImageModal()">
            <ion-text>Cerrar</ion-text>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="image-modal-content">
      <div class="zoomable-image">
        <ion-img src="assets/circulo.png"
                 alt="Diagrama educativo del círculo mostrando perímetro, radio, centro y diámetro">
        </ion-img>
      </div>
    </ion-content>
  </ng-template>
</ion-modal>